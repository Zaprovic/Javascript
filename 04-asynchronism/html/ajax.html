<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Ajax</title>
	</head>
	<body>
		<button id="button">Get text file</button>

		<div id="text"></div>

		<script>
			//Creating even listenter
			const btn = document.querySelector("#button");
			btn.addEventListener("click", () => {
				let xhr = new XMLHttpRequest();

				xhr.open("GET", "https://pokeapi.co/api/v2/pokemon/ditto", true);

				xhr.onprogress = function () {
					console.log("loading...");
				};
				xhr.onload = function () {
					if (this.status === 200) {
						console.log(this.responseText);
						const text = document.querySelector("#text");
						text.innerText = xhr.responseText;
					}
				};

				xhr.onerror = function () {
					console.log("Request error");
				};

				//sends request
				xhr.send();
			});
		</script>
	</body>
</html>
